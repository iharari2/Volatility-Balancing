# =========================
# backend/domain/ports/idempotency_repo.py
# =========================
from typing import Protocol, Optional

class IdempotencyRepo(Protocol):
    def get_order_id(self, key: str) -> Optional[str]: ...
    def reserve(self, key: str, signature_hash: str) -> Optional[str]: ...
    def put(self, key: str, order_id: str, signature_hash: str) -> None: ...
    def clear(self) -> None: ...
